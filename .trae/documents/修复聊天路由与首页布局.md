## 问题诊断
- 白屏原因：前端路由未注册聊天页，`/chat/:agentId` 访问时不匹配任何路由，导致空白页面。代码位置：`src/App.tsx:7-10` 仅有 `/` 与 `/other` 两个路由。
- 次要问题：主页 CTA 调用 `document.getElementById('agents-section')`，但智能体区块没有设置该 `id`，滚动跳转无效果。代码位置：`src/pages/Home.tsx:155`。
- 直达聊天页的鲁棒性：`Chat.tsx` 只从 `agents` 内存中查找当前智能体，若刷新后直接进入聊天页，`agents` 尚未加载，会显示“加载智能体信息...”但不触发远程加载。代码位置：`src/pages/Chat.tsx:33-44`。

## 修改目标
1. 将“可用智能体”区块上移到“平台特色”上方，并为其添加 `id="agents-section"`。
2. 在前端路由中新增 `Route path="/chat/:agentId"` 指向聊天页面；补充登录与注册路由保持导航完整。
3. 聊天页在找不到当前智能体时，自动调用 `fetchAgent(agentId)` 回退加载，避免白屏或卡在加载状态。
4. 保持现有样式与交互，符合 Stripe 风格与渐变主题，且不影响 SSE 流式对话逻辑。

## 具体改动
- `src/App.tsx`
  - 新增：`<Route path="/chat/:agentId" element={<Chat />} />`。
  - 新增：`<Route path="/login" element={<Login />} />`、`<Route path="/register" element={<Register />} />`（文件已存在于 `src/pages/`）。
- `src/pages/Home.tsx`
  - 将“Agents Section”整体移动到“Features Section”之前。
  - 为该区块根元素加 `id="agents-section"`，修复 CTA 滚动。
- `src/pages/Chat.tsx`
  - 在 `currentAgent` 为 `undefined` 时触发一次 `fetchAgent(agentId)` 或 `fetchAgents()`，拿到智能体信息后再渲染；若未登录则保持跳转到登录逻辑。

## 验证步骤
- 启动开发服务器：`npm run dev`。
- 打开主页：确认“可用智能体”区块已置顶，CTA“立即开始”滚动到该区块。
- 点击任一智能体卡片：路由跳转到 `/chat/:agentId`，左侧会话历史、右侧聊天区正常展示；刷新该页面仍能加载智能体信息。
- 登录后新建会话并发送消息：看到服务端推送的流式输出，后端 `3001` 无错误日志。

## 风险与兼容
- 路由新增不影响现有页面；仅在 `App.tsx` 注册即可。
- 主页结构调整不改变数据与接口；为纯前端布局变更。
- 聊天页新增回退加载仅在`agents`为空时执行一次，不会影响正常导航性能。

请确认以上修改计划，我将立即实施并完成验证。